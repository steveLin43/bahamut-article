(function(window,$,Cookies){"use strict";var LastBoard={MAX_SHOW:10,getData:function(){var lastBoardRawData=Cookies.get("ckBH_lastBoard")||"";if(lastBoardRawData===""){return null}try{return JSON.parse(lastBoardRawData).map(function(boardData){if(!boardData[0].match(/^[0-9]+$/)){return null}return[boardData[0],boardData[1]]}).filter(function(e){return e})}catch(err){return null}},addBoard:function(bsn,boardTitle){var newLastBoard=[],lastBoard=this.getData(),tmp=null;newLastBoard.push([bsn,boardTitle]);if(lastBoard){while(tmp=lastBoard.shift()){if(tmp[0]===bsn){continue}newLastBoard.push(tmp)}}Cookies.set("ckBH_lastBoard",JSON.stringify(newLastBoard.slice(0,this.MAX_SHOW)),{domain:"gamer.com.tw",path:"/",expires:14})},renderList:function(containerId){var lastBoard=this.getData(),$container=$("#"+containerId);if(!lastBoard){$container.html('<div style="padding:8px;">無。</div>')}else{$container.html("<ul></ul>");for(var i=0;i<this.MAX_SHOW&&lastBoard[i];i++){var row=lastBoard[i];row[1]=row[1].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");const gtmAttrs=(new Util.Ga4.GtmParams).linkClick("點擊哈啦板").page("熱門哈啦區").area("最近瀏覽").service("forum").toHtmlAttr(true);$container.children().append("<li><a"+gtmAttrs+' href="//forum.gamer.com.tw/A.php?bsn='+row[0]+'">'+row[1]+"</a></li>")}}}};window.Forum=window.Forum||{};window.Forum.LastBoard=LastBoard})(window,jQuery,Cookies);